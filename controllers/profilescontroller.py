# Imports
from lib.scan.profiles import Profiles
from views.dialog.newprofileview import NewProfileView


class ProfilesController(object):

    """
        This class is a controller that manages the 'Profiles View' and all action that are related with
        create a new scan profiles.
    """
    
    def __init__(self):
        """Initialize the controller object and all attributes that it needs"""
        self.__view = NewProfileView(self)
        self.__profiles = Profiles()

    def show(self):
        """
        Show 'Profiles View'
        :return: True if profile is create successfully, False otherwise
        """
        self.__view.setProfiles(self.__profiles)

        value = self.__view.exec_()

        while value < 0:
            value = self.__view.exec_()

        if value > 0:
            return True
        elif value == 0:
            return False

    def removeProfile(self, profile):
        """
        Remove the profile that it receives
        :param profile: the profile that we want to remove
        :return: None
        """
        self.__profiles.removeProfile(profile)

    def getProfiles(self):
        """
        Get all profiles
        :return: a dict with all profiles
        """
        return self.__profiles.getProfiles()

    def getCommand(self, profile):
        """
        Get the command associates with this
        :param profile: the profile's name
        :return: the command
        """
        return self.__profiles.getCommand(profile)
