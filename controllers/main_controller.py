from views.main_view import MainView


class MainController(object):

    def __init__(self, routes):
        self.routes = routes
        self.main_view = MainView(self)
        self.project_controller = self.routes.get_route("Project")
        self.nmap_controller = self.routes.get_route("Nmap")

    def start(self):
        self.main_view.show()
        self.main_view.load_central_widget(self.nmap_controller.get_widget())

    def new_project(self):
         if self.project_controller.new_project():
            project_file = self.project_controller.get_project_file()
            self.main_view.set_message_statusbar(self.project_controller.get_message_statusbar())
            self.nmap_controller.set_project_file(project_file)

    def open_project(self):
        if self.project_controller.open_project():
            project_file = self.project_controller.get_project_file()
            self.main_view.set_message_statusbar(self.project_controller.get_message_statusbar())
            self.nmap_controller.set_project_file(project_file)
