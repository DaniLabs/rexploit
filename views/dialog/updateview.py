from PyQt5.uic import loadUi
from PyQt5.QtWidgets import QDialog


class UpdateView(QDialog):
    def __init__(self):
        super(UpdateView, self).__init__()
        loadUi('./resources/ui/dialog/update.ui', self)

        # Connect things
        self.buttonBox.accepted.connect(self.buttonBoxAccepted)

        self.labelTitle.setText('Update RExploit')

        self.labelResult.setText("")
        self.buttonBox.setEnabled(False)

    def buttonBoxAccepted(self):
        self.accept()

    def setExploitsUpdated(self, auxiliary, generic, routers):
        self.labelResult.setText("{0} auxiliary exploits have been updated \n"
                                 "{1} generic exploits have been updated \n"
                                 "{2} routers exploits have been updated".format(auxiliary, generic, routers))

    def buttonBoxSetEnabled(self, state):
        self.buttonBox.setEnabled(state)
